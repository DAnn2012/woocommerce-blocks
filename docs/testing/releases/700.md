## Testing notes and ZIP for release 7.0.0

Zip file for testing: [woocommerce-gutenberg-products-block.zip](https://github.com/woocommerce/woocommerce-gutenberg-products-block/files/8064061/woocommerce-gutenberg-products-block.zip)

## Feature Plugin

### Minicart: Change unnecessary nested dom structure. ([5687](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5687))

1. Using Storefront, add the Mini Cart block as widget.
2. View the page and inspect elements using the browser's dev tools.
3. Click on the mini-cart to open the mini-cart-contents drawer.
4. Find the `wc-block-mini-cart__template-part` class element.
5. Check that the direct child is a div with wp-block-woocommerce-mini-cart-contents class element.

### FSE: Enable global style for Attribute Filter Block ([5557](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5557))

1.  Upgrade to `WordPress 5.9`.
2.  Install and enable the `Twenty Twenty-Two` theme.
3.  Add the `Attribute Filter block` to a post.
4.  On the right sidebar, personalize the styles of the block.
5.  Go on the page and check if there are changes.
6.  Reset to default using the `Reset` button from the different sections.
7.  Go to Dashboard and select Appearance > Editor (beta). On top of the screen, select Home > Browser all templates > Single Post. When the page is loaded, add the block to the page.
8.  On the Editor page click on the `Styles` icon on the right-top corner.
9.  Verify that the `Attribute Filter block` is shown under the `Blocks` section. Personalize again the block.
10. Save your changes.
11. Go on the page created earlier and check if all styles are applied correctly.
12. Edit your previous post/page again.
13. Change again the styles.
14. Save your changes.
15. Check if these styles have priority over the styles from the Site Editor.

### FSE: Enable global style for Product Image Block ([5562](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5562))

1. On `WordPress 5.9`, install and enable the `Gutenberg` plugin.
2. Install and enable the `Twenty Twenty-Two` theme.
3. Add the `Single Product block` (this block contains `Product Image Block`) to a post.
4. Get the focus on `Product Image Block`.
5. On the right sidebar, personalize the styles of the block.
6. Go on the page and check if there are changes.
7. Reset to default using the `Reset` button from the different sections.
8. Go to Dashboard and select Appearance > Editor (beta). On top of the screen, select Home > Browser all templates > Single Post. When the page is loaded, add the block to the page.
9. On the Editor page click on the `Styles` icon on the right-top corner.
10. Verify that the `Product Image block` is shown under the `Blocks` section. Personalize again the block.
11. Save your changes.
12. Go on the page created earlier and check if all styles are applied correctly.
13. Edit your previous post/page again.
14. Change again the styles.
15. Save your changes.
16. Check if these styles have priority over the styles from the Site Editor.

### FSE: Enable global style for Tag List Block ([5528](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5528))

1. On `WordPress 5.9`, install and enable the `Gutenberg` plugin.
2. Install and enable the `Twenty Twenty-Two` theme.
3. Add the `Single Product block` (this block contains `Tag List block`) to a post.
4. Get the focus on `Tag List block`.
5. On the right sidebar, personalize the styles of the block.
6. Go on the page and check if there are changes.
7. Reset to default using the `Reset` button from the different sections.
8. Go to Dashboard and select Appearance > Editor (beta). On top of the screen, select Home > Browser all templates > Single Post. When the page is loaded, add the block to the page.
9. On the Editor page click on the `Styles` icon on the right-top corner.
10. Verify that the `Tag List block` is shown under the `Blocks` section. Personalize again the block.
11. Save your changes.
12. Go on the page created earlier and check if all styles are applied correctly.
13. Edit your previous post/page again.
14. Change again the styles.
15. Save your changes.
16. Check if these styles have priority over the styles from the Site Editor.

### FSE: Enable global style for Sale Product Block ([5565](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5565))

1. Install and enable the `Twenty Twenty-Two` theme.
2. Add the `All Product Block` to a post.
3. Go to Dashboard and select Appearance > Editor (beta).
4. On the Editor page click on the `Styles` icon on the right-top corner.
5. Verify that the `Sale Product block` is shown under the `Blocks` section. Click on the label. Personalize the block.
6. Save your changes.
7. Go on the page created earlier and check if all styles are applied correctly.

### FSE: Enable global style for Category List Block ([5516](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5516))

1. On `WordPress 5.9`, install and enable the `Gutenberg` plugin.
2. Install and enable the `Twenty Twenty-Two` theme.
3. Add the `Single Product block` (this block contains `Product Title Block`) to a post.
4. Get the focus on `Category List Block`.
5. On the right sidebar, personalize the styles of the block.
6. Go on the page and check if there are changes.
7. Reset to default using the `Reset` button from the different sections.
8. Go to Dashboard and select Appearance > Editor (beta). On top of the screen, select Home > Browser all templates > Single Post. When the page is loaded, add the block to the page.
9. On the Editor page click on the `Styles` icon on the right-top corner.
10. Verify that the `Category List Block` is shown under the `Blocks` section. Personalize again the block.
11. Save your changes.
12. Go on the page created earlier and check if all styles are applied correctly.
13. Edit your previous post/page again.
14. Change again the styles.
15. Save your changes.
16. Check if these styles have priority over the styles from the Site Editor.

### FSE: Revert template customization for WooCommerce templates ([5746](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5746))

1. Ensure you have the latest WooCommerce, WordPress 5.9 and a block theme so that the FSE feature is enabled.
2. Go to Appearance > Editor and load Single Product template, customize the content and save the template.
3. In a separate tab ensure these changes are represented on the frontend, be careful _not_ to reload the current tab.
4. Back in your Site Editor tab, using the navigation please navigate back to All Templates view. In the list of templates your customized Single Product template should indicate it has been customized.
5. Click the three dots on the right of this template and click "Clear Customizations" and wait until the action has been complete.
6. Click "Single Product" again to go back into this template, check that all customizations have been cleared.
7. In a separate tab ensure these changes are represented on the frontend, be careful _not_ to reload the current tab.
8. Now in your Site Editor tab make another customization in this template and save it. Then using the navigation please navigate back to All Templates view. In the list of templates your customized Single Product template should indicate it has been customized.
9. Now click "Single Product" again to go back into the Site Editor, check that these customizations are showing still in the Site Editor.
10. Click the downward chevron in the top bar next to the block template title. It should show a "Clear Customizations" option here, click this and check that all customizations are reverted.
11. Now add a WooCommerce template (e.g. `single-product.html`) into your theme or download and install [this version of TwentyTwentyTwo](https://github.com/woocommerce/woocommerce-gutenberg-products-block/files/8036005/twentytwentytwo.zip) and test steps 1-10 again.

### Checkout: Local state management for shipping options ([5802](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5802))

1. Ensure your store has multiple shipping methods setup
2. Add something to your cart that requires shipping
3. Go to the cart block
4. Select a shipping option. Confirm the UI updates instantly, and the option remains checked once totals are updated
5. Open 2 tabs with a cart block in each
6. In tab 1, select a shipping method
7. In tab 2, change an item qty. Confirm that once the update completes, the correct shipping method is selected.

### Cart and Checkout: Appender button overlap ([5801](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5801))

1. Open up a page with the Checkout block in the editor
2. Confirm that the "Place Order" button and the "Add Block" button at the bottom of the block don't overlap
3. Confirm that in the right hand side bar, the total price doesn't overlaps with the "Add block" button
4. Also check the Cart block that the insert inner block buttons don't overlap

### Minicart: Fix mini cart not updating data ([5741](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5741))

1. Active `StoreFront` theme and add `Mini Cart` block as a widget.
2. Create two pages/posts with `Single Product` block and the other one with `All Product` block. Save them.
3. Check that the cart is empty.
4. Go on `/shop` page and add a product.
5. Check that the Mini Cart updates correctly.
6. Empty the cart.
7. Open the network tab from Dev Tools.
8. Go on the created pages/post and check that the browser doesn't fetch `/wc/store/cart`
9. Add a product for both pages and check that the Mini Cart updates correctly.

### Fix button hover and focus states ([5712](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5712))

1. Checkout the branch
2. Create test pages for cart, mini cart, and checkout blocks.
3. In each page check the hover and focus styles for the `View my cart`, `Got to checkout`, `Proceed to Checkout`, and `Place Order` buttons.
4. You can do the same test using the available default themes and the Strofront theme as well.

### Minicart: Add autofocus on minicart element ([5744](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5744))

1. Create a post or page and add a Mini Cart block.
2. Add a Product to the cart.
3. Visit that post or page in the front and click on the Mini Cart button.
4. Remove the product.
5. Click on the overlay and check that the drawer will close.

### Product blocks: Fix ignoring redirection to cart after add ([5708](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5708))

1. Go to WooCommerce Settings > Products > General and toggle _Redirect to the cart page after successful addition_
2. Add All Blocks and/or other products blocks.
3. Hit the _Add to Cart_ button
4. If setting is enabled you should be automatically redirected to the cart

### Checkout: Fix default attributes not being passed to the front-end ([5732](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5732))

1. Add the Checkout block and select the Shipping Address in the editor.
2. Change the settings (try a few different, random settings) in the sidebar and ensure the block changes as expected.
3. Save the block and load it on the front-end and ensure the block is rendered as you expect based on the attributes you saved.
4. Go back to the editor and select the Checkout block as a whole, set the "Dark mode inputs" option to true.
5. Load the block in the front-end again and ensure the dark mode inputs are being used.

### Checkout: Fix handling of orders without payments ([5720](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5720))

1. Create a coupon for 100% of the order total.
2. Add items to cart.
3. Apply the coupon. The order total should be 0 and the payment section hidden during checkout.
4. Place the order. Confirm it goes through without errors.

### Minicart: Only allow Mini Cart in Widgets and Site Editor ([5653](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5653))

1. Edit a page
2. Try to add Mini Cart block, see no block found in the Inserter.
3. Go to Widgets (I used Storefront to test Widgets), see you can search and add Mini Cart to widget areas.
4. Using a block theme with Gutenberg enabled, go to the Site Editor, see you can search and add the Mini Cart block.
5. Using WP 5.9 with Gutenberg disabled, go to the Site Editor, see you can search and add the Mini Cart block.

### TS conversion of several blocks ([5668](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5668))

The following components have been converted to TypeScript, hence they benefit from a smoke test:

-   `base/components/ProductList`
-   `base/components/FilterElementLabel`
-   `base/components/FilterSubmitButton`
-   `base/components/Form`
-   `base/components/LoadMoreButton`
-   `base/components/LoadingMask`
-   `base/components/Pagination`
-   `base/components/SortSelect`

### FSE: Add a “Remove Image” option to the Featured Category Block ([5719](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5719))

1. Go to post or page
2. Add Featured Category block and add an image to it
3. Check the "Remove" button that appears in the toolbar
4. Click the "Remove" button and check it removes the image, save block and check frontend.

### TT2: Fix Twenty Twenty-Two Products by Category Block item tile styling issues ([5684](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5684))

1. Get the [Twenty Twenty Two](https://wordpress.org/themes/twentytwentytwo/) theme
2. Create a page with Products by category block with products on sale available
3. Visit the page
4. Confirm sale price on products on sale **is not** underlined
5. Add product to cart
6. Confirm `View cart` action is centred under the `Add to cart` button and not broken into two lines

<!-- FEEDBACK -->

---

[We're hiring!](https://woocommerce.com/careers/) Come work with us!

🐞 Found a mistake, or have a suggestion? [Leave feedback about this document here.](https://github.com/woocommerce/woocommerce-gutenberg-products-block/issues/new?assignees=&labels=type%3A+documentation&template=--doc-feedback.md&title=Feedback%20on%20./docs/testing/releases/690.md)

<!-- /FEEDBACK -->
