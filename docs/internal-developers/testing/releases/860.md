# Testing notes and ZIP for release 8.6.0

Zip file for testing: [woocommerce-gutenberg-products-block.zip](https://github.com/woocommerce/woocommerce-blocks/files/9647066/woocommerce-gutenberg-products-block.zip)

## Feature plugin and package inclusion in WooCommerce

### Revert "Add static class name for product-details (#6914)" [7191](https://github.com/woocommerce/woocommerce-blocks/pull/7191)

1. Add an item to your cart that has multiple variants. E.g. Hoodie (Blue, Logo)
2. Go to the Cart Block
3. Inspect the text for one of the variants (e.g. Colour: Blue)
4. Make sure there is a class called `wc-block-components-product-details__{name of your variant}`

### Prevent Express Checkout block from being cut off [7152](https://github.com/woocommerce/woocommerce-blocks/pull/7152)

1. Install the [WooCommerce Stripe Payment Gateway](https://wordpress.org/plugins/woocommerce-gateway-stripe/) plugin.
2. Go to `/wp-admin/admin.php?page=wc-settings&tab=checkout` and activate the payment method `Stripe` so that the Express Payment block becomes visible.
3. Create a page and add the Checkout block to it.
4. Select the Checkout block and verify that the Express Payment block is no longer cut off.

### Refactor getValidationError and getValidationErrorId selectors in wc/store/validation data store [7146](https://github.com/woocommerce/woocommerce-blocks/pull/7146)

1. Go to the checkout page, fill in the form and make some validation errors on purpose, e.g. fill in your name then erase it.
2. Ensure the validation errors appear.
3. Try to check out with validation errors present in the form. Ensure it doesn't let you.
4. Ensure `require checkbox` is enabled on the Checkout Terms block - on the front-end, try checking out without touching the box.
5. Ensure you get an error message.
6. Check the box and check the error disappears.
7. Reload the page, check and uncheck the box. You should see an error message. Try checking out while the error message is there.
8. Ensure checkout is disallowed.
9. Complete the form and fix all validation errors. Check out successfully.

### Make chevron clickable in Filter by Product block input [7139](https://github.com/woocommerce/woocommerce-blocks/pull/7139)

1. Add the `Filter by Attribute` block and the `All Products` block to a page.
2. Set the `Filter by Attribute` block display to dropdown and allow selecting multiple options.
3. Play around with the window size and the options you select, and make sure the pills inside the input don't overlap the chevron.
4. Verify that when you click on the chevron, the options dropdown appear.

### Check tax display type before returning the tax lines [7084](https://github.com/woocommerce/woocommerce-blocks/pull/7084)

1. Test with `trunk` version of WooPay
2. Go to WooCommerce / Settings / Tax
3. Set display tax total as a single total
4. Use WooPay checkout and check the total block

### Fix: Inner blocks control position for Cart Block [6973](https://github.com/woocommerce/woocommerce-blocks/pull/6973)

1. Go to the Cart Block
2. Click on the fee inner block
3. Confirm that the controls appear on the correct side

### fix: Markup is visible in checkout error notices [6800](https://github.com/woocommerce/woocommerce-blocks/pull/6800)

1. Add items to the cart and go to the Checkout block.
2. Open [CheckoutSchema.php](https://github.com/woocommerce/woocommerce-blocks/blob/029b379138906872dec3ed920fcb23d24404a3f2/src/StoreApi/Schemas/V1/CheckoutSchema.php#L26-L25) in your editor, introduce a syntax error.
3. Try to check out.
4. See the notice with rendered HTML. Special note to the link displaying properly.

### Create Cross-Sells product list [6645](https://github.com/woocommerce/woocommerce-blocks/pull/6645)

#### Test editor behaviour when adding Cart block

1. Create a test page and add the Cart block to it.
2. Verify that the Cart block contains the Cart Cross-Sells inner block.
3. Verify that the Cart Cross-Sells inner block contains the Heading and Cart Cross-Sells products inner blocks.
4. Select the Cart Cross-Sells products inner block and verify that the number of visible Cross-Sells products can be adjusted in the editor.

#### Test editor behaviour after removing Cross-Sells block

1. Create a test page and add the Cart block to it.
2. Verify that the Cart block contains the Cart Cross-Sells inner block.
3. Delete the Cart Cross-Sells inner block.
4. Verify that the Cart Cross-Sells inner block can be reinserted.

#### Test frontend behaviour if cart items does not have Cross-Sells products

1. Visit the frontend.
2. Add a product to the cart that does not Cross-Sells products.
3. Go to the Cart page.
4. Verify that the Cross-Sells product block is not visible.

#### Test frontend behaviour if cart items have Cross-Sells products

1. Visit the frontend.
2. Add a product to the cart that has Cross-Sells products.
3. Go to the Cart page.
4. Verify that the Cross-Sells product block is visible.
5. Add one of the Cross-Sells products, which also has Cross-Sells products, to the cart.
6. Verify that the added Cross-Sells product had been added to the cart and is no longer visible as a Cross-Sells product.
7. Verify that the Cross-Sells products, of the product that had been added to the cart in step 6., are visible in the Cross-Sells block.

#### Test frontend behaviour if cart items have a Cross-Sells product that is out of stock

1. Visit the frontend.
2. Add a product to the cart that has a Cross-Sells product which is out of stock.
3. Go to the Cart page.
4. Verify that the Cross-Sells product block is visible.
5. Verify that the Cross-Sells product, which is out of stock, does not show an `Add to Cart` button, but a `Read More` button, that links to the corresponding product page.

#### Test number of visible Cross-Sells products in the frontend

1. Ensure that you have one test product which has more than 6 Cross-Sells products.
2. Open the cart page in the editor and set the number of visible Cross-Sells items to 1.
3. Go to the frontend and add the test product from step 1 to the cart.
4. Go to the cart and verify that only 1 Cross-Sells product is visible.
5. Repeat steps 2 until 4 and set the number of visible Cross-Sells items to 2, 3, 4, 5 & 6.

## Experimental

### Refactor Product Query to use the latest Gutenberg APIs [7169](https://github.com/woocommerce/woocommerce-blocks/pull/7169)

1. Go to the Editor
2. Make sure that “Product Query” and “Products on Sale” show up on the Gutenberg inserter
3. Insert “Product Query”
4. Make sure the products show up in the editor and front-end
5. Make sure the the only inspector controls that show up in the editor are the following: `Layout`, `Columns`, `Order by`, `Filters > Keywords`, `Filters > Taxonomies`, `Show Products on Sale`, `Color`, `Advanced` (see screenshot above).
6. Make sure you can toggle the Show Products on Sale and that it works on the front-end
7. Repeat steps 3–5 for the “Products on Sale” except for the fact that the inspector controls should not display the `Show Products on Sale` toggle (see screenshot above).

### Product Query: Fix pagination issue [7109](https://github.com/woocommerce/woocommerce-blocks/pull/7109)

1. Add a Product Query block.
2. Add another Product Query block on the same page.
3. Set the toggle to display “On sale products” .
4. Set the number of products on a page to 1.
5. Add a Query Loop block.
6. Set it to display your posts.
7. Go to the front-end.
8. Make sure the three loop blocks show the expected items and the number of pages.
